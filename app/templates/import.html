{% extends "layout.html" %}
{% block content %}
<div id="import-workflow">

    <!-- Step 1: Select Folders -->
    <div id="select-step">
        <h1 class="h2 mb-3">1. Select Folders to Import</h1>
        <div id="folder-list-container" class="bg-body-secondary p-3 rounded" style="min-height: 200px;">
            <div id="folder-list-loader" class="text-center">
                <div class="spinner-border" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-2">Scanning media library...</p>
            </div>
            <ul id="folder-list" class="list-unstyled d-none"></ul>
        </div>
        <button id="review-btn" class="btn btn-primary mt-3" disabled>
            <i class="bi bi-card-checklist me-1"></i> Review Selected
        </button>
    </div>

    <!-- Step 2: Review and Stage -->
    <div id="stage-step" class="d-none">
        <h1 class="h2 mb-3">2. Review and Confirm</h1>
        <div id="stage-area" class="d-grid gap-3">
            <!-- Staged playlists will be injected here by JavaScript -->
        </div>
        <div class="mt-3">
            <button id="add-all-btn" class="btn btn-success">
                <i class="bi bi-cloud-upload-fill me-1"></i> Add All Valid Playlists to Queue
            </button>
            <button id="back-btn" class="btn btn-secondary">Back</button>
        </div>
    </div>

</div>
{% endblock %}